# 🚀 ScreenOCR-Tauri 快速开始指南

## 📦 前提条件

在开始之前，请确保已安装以下软件：

### 必需软件
1. **Node.js** (v18 或更高版本)
   - 下载地址: https://nodejs.org/
   - 验证安装: `node --version`

2. **Rust** (1.70 或更高版本)
   - 安装命令: https://rustup.rs/
   - Windows: 下载并运行 `rustup-init.exe`
   - 验证安装: `rustc --version`

3. **Visual Studio Build Tools** (仅 Windows)
   - Rust 需要 MSVC 工具链
   - 下载地址: https://visualstudio.microsoft.com/downloads/
   - 选择 "Desktop development with C++"

### 可选软件（用于 OCR）
1. **Tesseract OCR** (如果要使用真实 OCR)
   - Windows: https://github.com/UB-Mannheim/tesseract/wiki
   - 安装后添加到系统 PATH

---

## 🎯 快速启动（推荐）

### 方式 1: 双击启动脚本
```bash
双击 "一键启动.bat" 文件
```

脚本会自动：
- ✅ 检查 Node.js 环境
- ✅ 安装前端依赖
- ✅ 编译 Rust 代码
- ✅ 启动 Vite 开发服务器
- ✅ 启动 Tauri 应用

### 方式 2: 命令行启动
```bash
# 1. 进入项目目录
cd E:\code\screenocr-tauri

# 2. 安装依赖（首次运行）
npm install

# 3. 启动开发环境
npm run tauri:dev
```

---

## ⏱️ 首次启动时间

| 阶段 | 时间 | 说明 |
|------|------|------|
| 安装前端依赖 | 1-2 分钟 | 下载 npm 包 |
| 编译 Rust 依赖 | 3-5 分钟 | 首次编译 Tauri 和相关 crates |
| 启动 Vite | 5-10 秒 | 前端开发服务器 |
| **总计** | **约 5-7 分钟** | 仅首次需要 |

**后续启动**: 10-20 秒（Rust 增量编译）

---

## ✅ 启动成功标志

当你看到以下输出时，表示启动成功：

```
✅ 配置已从文件加载
✅ 热键已注册: Alt
🚀 ScreenOCR 应用已启动

vite v5.x.x dev server running at:

  ➜  Local:   http://localhost:1420/
  ➜  Network: use --host to expose
```

一个窗口会自动打开，显示设置页面。

---

## 🎮 如何使用

### 1. 配置设置

打开设置窗口，你可以：
- 选择 OCR 引擎（Tesseract / WeChatOCR）
- 调整触发延时（0-1000 毫秒）
- 设置全局热键（如 `Alt`, `Ctrl+Shift+A`）
- 开启/关闭自动复制

### 2. 触发 OCR 识别

有三种方式：

#### 方式 1: 全局热键（推荐）
1. 最小化或隐藏应用窗口
2. 按下你设置的热键（默认: `Alt`）
3. 出现全屏覆盖层
4. 拖动鼠标框选要识别的区域
5. 点击 "确认识别"
6. 等待识别完成

#### 方式 2: 托盘菜单
1. 右键点击任务栏托盘图标
2. 选择 "立即识别"
3. 后续步骤同方式 1

#### 方式 3: 测试按钮
1. 在设置窗口中点击 "测试 OCR"
2. 直接识别整个屏幕

### 3. 查看结果

识别完成后：
- ✅ 文本自动复制到剪贴板
- 🔔 显示成功通知
- 📋 可以直接粘贴使用（Ctrl+V）

---

## 🔧 常见问题

### Q1: 启动失败，提示 "Rust 未安装"

**解决方案**:
1. 访问 https://rustup.rs/
2. 下载并安装 Rust
3. 重启命令行窗口
4. 重新运行启动脚本

---

### Q2: 编译失败，提示 "linker not found"

**解决方案** (Windows):
1. 安装 Visual Studio Build Tools
2. 下载地址: https://visualstudio.microsoft.com/downloads/
3. 选择 "Desktop development with C++"
4. 重新编译

---

### Q3: 热键不生效

**可能原因**:
1. 热键被其他应用占用
2. 热键格式不正确

**解决方案**:
1. 尝试更换热键（如 `Alt+F1`, `Ctrl+Shift+O`）
2. 确保热键格式正确（大写字母，用 `+` 连接）
3. 检查控制台日志

---

### Q4: OCR 识别结果为空或不准确

**当前状态**: OCR 为模拟实现，返回示例文本

**解决方案**:
- 等待真实 Tesseract OCR 集成完成
- 或参考 `功能实现完成报告.md` 自行集成

---

### Q5: 应用窗口无法显示

**解决方案**:
1. 检查托盘图标（任务栏右下角）
2. 左键点击托盘图标打开设置窗口
3. 或右键托盘图标选择 "设置"

---

## 📝 开发模式特性

当前运行的是开发模式，具有以下特性：

### ✅ 优点
- 🔥 热重载（修改代码自动刷新）
- 🐛 详细的错误信息和日志
- 🔍 浏览器开发者工具（F12）
- ⚡ 快速迭代

### ⚠️ 注意
- 📦 体积较大（包含调试信息）
- 🐌 性能不如生产版本
- 💻 需要 Node.js 和 Rust 环境

---

## 🎯 测试新功能

### 1. 配置持久化测试

```bash
1. 打开设置，修改配置（如更改热键为 Ctrl+A）
2. 关闭应用
3. 重新启动应用
4. 验证配置是否保留
5. 点击 "重置配置" 按钮
6. 验证配置是否恢复默认值
```

### 2. 全局热键测试

```bash
1. 在设置中将热键改为 Alt+F1
2. 最小化应用窗口
3. 打开记事本或其他应用
4. 按下 Alt+F1
5. 验证是否显示 OCR 覆盖层
```

### 3. OCR 覆盖层测试

```bash
1. 按下热键（或点击托盘 "立即识别"）
2. 拖动鼠标框选一个区域
3. 验证选择框和尺寸显示是否正常
4. 点击 "确认识别" 按钮
5. 验证是否显示识别结果通知
6. 按 ESC 键，验证是否取消
```

---

## 📚 下一步

- 📖 阅读 `功能实现完成报告.md` 了解详细功能
- 🐛 发现问题？查看控制台日志
- 💡 有建议？在 GitHub 提 Issue
- 🚀 准备生产部署？运行 `npm run tauri:build`

---

## 🎉 开始使用吧！

双击 `一键启动.bat` 或运行 `npm run tauri:dev`，开始你的 OCR 之旅！

如有问题，请查看控制台输出或联系开发者。

